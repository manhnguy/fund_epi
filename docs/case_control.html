<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Fundamental Epidemiological Study Designs - 10&nbsp; Case-control study</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./intervention.html" rel="next">
<link href="./cohort.html" rel="prev">
<link href="./images/profile.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Case-control study</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Fundamental Epidemiological Study Designs</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">Basic concepts</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./epi.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Fundamental epidemiology</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./occurrence.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Measures of Occurrence</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./measures_effect.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Measures of Effect/Association</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bias.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Bias</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./con_effect_modification.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Confounders and Effect Modification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./error.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Measurement Errors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./study_design.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Study design</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Study designs</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cross_sectional.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Cross-sectional study</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cohort.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Cohort study</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./case_control.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Case-control study</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intervention.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Intervention study</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eco.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Ecological Studies</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">Summary</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#design-and-why-do-case-control-study" id="toc-design-and-why-do-case-control-study" class="nav-link active" data-scroll-target="#design-and-why-do-case-control-study"><span class="toc-section-number">10.1</span>  Design and why do Case-control study?</a></li>
  <li><a href="#main-steps-in-conducting-a-cohort-study" id="toc-main-steps-in-conducting-a-cohort-study" class="nav-link" data-scroll-target="#main-steps-in-conducting-a-cohort-study"><span class="toc-section-number">10.2</span>  Main steps in conducting a Cohort study</a></li>
  <li><a href="#strength-and-weakness" id="toc-strength-and-weakness" class="nav-link" data-scroll-target="#strength-and-weakness"><span class="toc-section-number">10.3</span>  Strength and Weakness</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Case-control study</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="design-and-why-do-case-control-study" class="level2" data-number="10.1">
<h2 data-number="10.1" class="anchored" data-anchor-id="design-and-why-do-case-control-study"><span class="header-section-number">10.1</span> Design and why do Case-control study?</h2>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Difference between Cohort and Case-control study</strong></p>
<p><strong>Cohort study</strong>: We have exposure data on all those in the study population who develop the outcome, and all those who do not.</p>
<p><strong>Case-control study</strong>: we collect exposure data on all cases and controls. However, the controls are only a sub-set of the study population of “non-cases” rather than all non-cases in the study population.</p>
</div>
</div>
<p><strong>Design</strong></p>
<p>In a case-control study, we start by identifying individuals with the outcome of interest (cases), and individuals without this outcome (controls). We then obtain information about one or more previous exposures from cases and controls, and compare the two groups to see if each exposure is significantly more (or less) frequent in cases than in controls.</p>
<p><strong>Why do case-control study</strong></p>
<ul>
<li><p>useful for rare outcomes: because the starting point is the identification of people with the outcome in question.</p></li>
<li><p>past exposures and outcomes are measured at the same time, so these studies can be done quickly, without the need to wait for a disease to develop or an event to occur.</p></li>
</ul>
</section>
<section id="main-steps-in-conducting-a-cohort-study" class="level2" data-number="10.2">
<h2 data-number="10.2" class="anchored" data-anchor-id="main-steps-in-conducting-a-cohort-study"><span class="header-section-number">10.2</span> Main steps in conducting a Cohort study</h2>
<p><strong>Step 1: Defining the study question</strong></p>
<p><strong>Step 2: Defining the target population</strong></p>
<p><strong>Step 3: Selecting the cases</strong></p>
<p>The cases must be a clear defined group with 3 properties:</p>
<p><strong>a. Case definition</strong> refer to <a href="./occurrence.html">Measure of Occurrence</a> section.</p>
<p><strong>b. Source</strong></p>
<p>We must define the population from which the cases are drawn, because the controls will need to be drawn from the same population. The cases could be:</p>
<ul>
<li><p>all patients who fulfil the case definition who attend a specific hospital within a specified time period</p></li>
<li><p>all patients within a specified population who have the outcome in question within a specified time period. We might need to use multiple sources of data to identify all such patients.</p></li>
</ul>
<p>We need to clarify the case group represent all cases in the target population or just a subgroup of cases. If we are studying a common disease, we may not want to study all cases within a given population. If we decide to study a sample of cases, then this sample should be a representative sample of all possible cases who fulfil the case definition within the specified population.</p>
<p>For some diseases with a spectrum of severity, patients from a hospital population are likely to have more severe disease than those from a primary care setting.</p>
<p><strong>c.&nbsp;Incident or prevalent cases</strong></p>
<p>If we use incident cases, we will identify risk factors associated with the onset of the disease. However if we use prevalent cases, we will under-represent cases with more rapidly progressive disease who die rapidly after diagnosis, and are therefore less likely to be included in the study. Thus if we use prevalent cases in a case-control study, any risk factors identified as associated with the disease may be not just those associated with the development of the disease, but could also be those associated with longer survival with the disease.</p>
<p><strong>Step 4: Selecting appropriate controls</strong></p>
<p>Controls must be representative of the population that produced the cases, but must not have the outcome in question. We can consider how to select the cases with 4 questions:</p>
<p><strong>what should be the source of controls?</strong></p>
<p>1, If the cases are a population based sample of incidences, population based controls would be appropriate (a random sample of the same population without the outcome of interest)</p>
<p>Data sources could be:</p>
<ul>
<li><p>lists of people registered with a primary care physician</p></li>
<li><p>lists of people cared for by a village health worker</p></li>
<li><p>census data</p></li>
</ul>
<p>Note: all of these data courses have some limitations, 1 source is unlikely to provide a complete accurate information.</p>
<p>2, If cases are derived from a health care facility, many studies use controls from the same health facility. Because these controls are easy to recruit, more likely to participate with less losses of follow up, less risk of recall bias as they have an illness. However, these controls may not be representative of the population which produced the cases and selection bias maybe introduced.</p>
<p><strong>should there be more than one group of controls?</strong></p>
<p>Ideally we should have 1 control group but sometimes we need more than one.</p>
<p><strong>how many controls per case?</strong></p>
<p>No more than 4 controls per cases.</p>
<p><strong>should the controls be matched to the case?</strong></p>
<p>We make our study more efficient if we match on a few simple variables (such as age and sex). However, if we try to match on many variables it becomes increasingly difficult to find appropriate matched controls for each case.</p>
<p>Matching types:</p>
<p><em>Individual matching</em>: a control is selected match to a cases on a few desired variables.</p>
<p><em>Group matching</em>: Instead of matching each individual, we select control group match to the case group. e.g.&nbsp;case group contains 60% male, and mean age 25, we should recruit a control group with similar sex and age distribution. This usually requires that all the cases be chosen before we start to select controls</p>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Matching does not remove the confounding effect. Matched studies require an analysis that takes the matching into account.</p>
<p>We should only match for an exposure if the relationship between that exposure and the outcome is already understood.</p>
<p>Matching on an intermediate variable results an underestimate of the association between the exposure and outcome of interest.</p>
<p>Matching on a variable that is associated with the exposure of interest but not with the outcome can reduce the efficiency of the study and weaken our ability to detect an association.</p>
</div>
</div>
<p><strong>Nested case-control study</strong></p>
<p>Nested case-control study is carried out within a cohort study with 2 advantages:</p>
<ul>
<li><p>both cases and controls are derived from the same population. Controls are representative of non-cases population, thus reduce selection bias.</p></li>
<li><p>exposure is identified before outcome occurred, reduce information bias and have less risk of reverse causality.</p></li>
</ul>
<p>More than 1 nested case-control study can be carried out within a single cohort study.</p>
<p><strong>Step 5: Measuring exposure</strong></p>
<p>Possible source of exposure data:</p>
<ul>
<li><p>interview of participants</p></li>
<li><p>interview of a person close to the study participant</p></li>
<li><p>medical records</p></li>
<li><p>occupational records</p></li>
<li><p>biological samples</p></li>
</ul>
<p>We need to consider the latency time as this determines the period we should collect exposure information.</p>
<p>we must be sure that the method used to gather information is as accurate for cases as it is for controls:</p>
<ul>
<li><p>use objective records rather than subjective measures to measure exposure status when possible, providing they are accurate</p></li>
<li><p>use measures of exposure taken before the outcome occurred (which are therefore less likely to be biased by outcome status) when possible.</p></li>
<li><p>if there are no pre-existing sources of exposure data, and the measurement of exposure requires a subjective judgement by the investigator, make the investigator “blind” to the outcome status of the participant.</p></li>
</ul>
<p><strong>Step 6: Analysing the data</strong></p>
<p>we compare the prevalence of exposure among cases with that among controls.</p>
<p>we usually use odds to express the frequency of the exposure among the groups of cases and controls. We compare the odds of exposure among cases and controls by calculating the ratio of the odds of exposure.</p>
<p><strong>a) Incident cases</strong></p>
<p>there are three strategies for the sampling of controls and the measures of effect vary dependent on the strategy.</p>
<ul>
<li><p>If we sample a control from the population <strong>at the same time a case is identified</strong>, the exposure odds ratio estimates the <strong>rate ratio</strong>.</p></li>
<li><p>If we sample our controls from the source population at the <strong>beginning of identification</strong> of incident cases the exposure odds ratio estimates the <strong>risk ratio</strong>.</p></li>
<li><p>If we sample our controls from the source population at the <strong>end of identification</strong> of cases the exposure odds ratio estimates the <strong>odds ratio</strong> (of disease).</p></li>
</ul>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>In the situation of a rare disease the exposure odds ratio for all three strategies of sampling estimates the risk ratio, rate ratio and odds ratio of disease. This is because when the disease is rare in the study population, the odds ratio, risk ratio and rate ratio are all very similar numerically.</p>
</div>
</div>
<p><strong>b) Prevalent cases</strong></p>
<p>If we select controls at the time of identification of cases (prevalent controls), the odds ratio estimates the prevalence odds ratio.</p>
<p>Under certain assumptions, most importantly that the duration of the disease is not associated with exposure, the prevalence odds ratio estimates the rate ratio. <strong>If the disease is rare the prevalence odds ratio estimates the prevalence ratio.</strong></p>
<p><strong>Note:</strong></p>
<ul>
<li><p>There may be more than one level of exposure, in which case we calculate an odds ratio for each stratum compared to the baseline. The baseline is often the unexposed group (or lowest level of exposure) but a different stratum may be chosen as a baseline, particularly if there are few cases in the unexposed group (which would make the estimate of disease occurrence in that stratum unreliable.</p></li>
<li><p>An individually matched design requires a matched analysis, and the odds ratio is calculated differently using ‘discordant pairs’. The analysis of individually matched data is discussed in the module Statistics for Epidemiology (EPM102).</p></li>
<li><p>Group-matched (or frequency-matched) studies do not need a ‘discordant pairs’ analysis. However, we should still treat the matched variable as a potential confounder, and adjust for it in the normal way through stratification or regression modelling.</p></li>
</ul>
<p><strong>Step 7: Interpreting results</strong></p>
<p><img src="images/association.jpg" class="img-fluid"></p>
<p><strong>Bias</strong></p>
<p>The potential sources of bias in case-control studies are:</p>
<ul>
<li><p>selection bias in selecting cases and controls</p></li>
<li><p>information bias in obtaining data on exposure</p></li>
</ul>
<p>Controls are derived from hospitals have some advantages as above. However, they may not be representative of the population that produced the cases.</p>
<p><strong>Confounding</strong></p>
<p>Refer to <a href="./con_effect_modification.html">Confounders and Effect Modification</a> section for more information on confounding.</p>
<p>Methods for controlling confounding include:</p>
<ul>
<li><p>at the design stage using restriction and matching</p></li>
<li><p>in the analysis using stratification and regression modelling</p></li>
</ul>
<p><strong>Random error</strong></p>
<p><strong>Measurement error</strong> may result in misclassification of exposure or outcome and lead to inaccurate estimate.</p>
<p><strong>Reverse causality</strong>: As the exposure is measured after the outcome has occurred, it is possible that the exposure have been influenced by the outcome. It is important to define the exposure period of interest in case-control studies. For diseases with long latent periods (for example, lung cancer), this may be many years prior to the onset of disease. Where the latent period is short (for example, diarrhoeal disease), the relevant exposure period may be only days before the outcome occurs.</p>
<p>Exposure status may also be influenced by the early stages of a chronic disease, before the outcome as defined in the case definition has occurred.</p>
</section>
<section id="strength-and-weakness" class="level2" data-number="10.3">
<h2 data-number="10.3" class="anchored" data-anchor-id="strength-and-weakness"><span class="header-section-number">10.3</span> Strength and Weakness</h2>
<p><strong>Strength</strong></p>
<ul>
<li><p>can be carried out rapidly and relatively cheaply (compared to cohort studies)</p></li>
<li><p>are useful for studying rare diseases</p></li>
<li><p>can be used to study diseases with long periods of time between the exposure and outcome</p></li>
<li><p>can study multiple exposures for a single outcome</p></li>
</ul>
<p><strong>Weakness</strong></p>
<ul>
<li><p>are prone to selection bias, particularly in the selection of controls. This is the main week point of case-control study as <strong>controls are selected sample of non-cases instead of all the non-cases in the reference population</strong></p></li>
<li><p>are prone to information bias, because exposure status is determined after the outcome has occurred</p></li>
<li><p>cannot establish the sequence of events: the exposure may be a consequence rather than a cause of the outcome (reverse causality)</p></li>
<li><p>are not suitable for studying rare exposures (except in nested case-control studies)</p></li>
<li><p>cannot usually be used to estimate disease incidence or prevalence</p></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="manhnguy/fund_epi" data-repo-id="R_kgDOOLlxVA" data-category="General" data-category-id="DIC_kwDOOLlxVM4CoWUv" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./cohort.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Cohort study</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./intervention.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Intervention study</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>